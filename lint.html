
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2016-04-14
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>SchemaCrawler - SchemaCrawler Lint</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet" />
		<link href="./css/docs.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/default.min.css" rel="stylesheet" />

		<link href="./css/lightbox.css" rel="stylesheet" />

		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="meta" href="doap_schemacrawler-all.rdf" title="DOAP" type="application/rdf+xml"/>
<link rel="shortcut icon" href="http://www.schemacrawler.com/favicon.ico"/>
<script type="text/javascript">var _gaq = _gaq || []; _gaq.push(['_setAccount',
        'UA-22913512-1']); _gaq.push(['_trackPageview']); (function() { var ga =
        document.createElement('script'); ga.type = 'text/javascript'; ga.async
        = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl'
        : 'http://www') + '.google-analytics.com/ga.js'; var s =
        document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s); })();</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="js/lightbox.js"></script>
<script src="js/convert_name.js"></script>
<link rel="stylesheet" href="css/lightbox.css"/>
<link rel="stylesheet" href="./css/sc.css"/>
<link rel="stylesheet" href="./css/sc_banner.css"/>
<link rel="stylesheet" href="./css/sc_site.css"/>
	</head>

	<body class="page-lint project-schemacrawler-site" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="http://www.schemacrawler.com/">SchemaCrawler</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="consulting.html" title="Consulting">Consulting</a></li>
							<li ><a href="http://github.com/sualeh/SchemaCrawler/releases/" title="Download" class="externalLink">Download</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">SchemaCrawler <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="index.html" title="About SchemaCrawler">About SchemaCrawler</a></li>
									<li ><a href="readme.html" title="Readme">Readme</a></li>
									<li ><a href="who-uses.html" title="Who Uses">Who Uses</a></li>
									<li ><a href="ecosystem.html" title="Ecosystem">Ecosystem</a></li>
									<li ><a href="database-support.html" title="Database System Support">Database System Support</a></li>
									<li ><a href="http://github.com/sualeh/SchemaCrawler/releases/" title="Download" class="externalLink">Download</a></li>
									<li ><a href="changes-report.html" title="Change History">Change History</a></li>
									<li ><a href="license.html" title="License">License</a></li>
									<li ><a href="consulting.html" title="Consulting">Consulting</a></li>
								</ul>
							</li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Features <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="output.html" title="Text Output">Text Output</a></li>
									<li ><a href="schemacrawler_grep.html" title="Grep">Grep</a></li>
									<li ><a href="diagramming.html" title="Diagramming">Diagramming</a></li>
									<li ><a href="scripting.html" title="Scripting">Scripting</a></li>
									<li class="active"><a href="" title="Lint">Lint</a></li>
									<li ><a href="offline.html" title="Offline Snapshots">Offline Snapshots</a></li>
									<li ><a href="plugins.html" title="Plugins">Plugins</a></li>
									<li ><a href="INFORMATION_SCHEMA.html" title="Using INFORMATION_SCHEMA Views">Using INFORMATION_SCHEMA Views</a></li>
									<li ><a href="report-maven-plugin.html" title="SchemaCrawler Report Maven Plugin">SchemaCrawler Report Maven Plugin</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Resources <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="readme.html" title="Getting Started">Getting Started</a></li>
									<li ><a href="resources.html" title="Resources">Resources</a></li>
									<li ><a href="faq.html" title="FAQS">FAQS</a></li>
									<li ><a href="how-to.html" title="How-tos">How-tos</a></li>
									<li ><a href="https://sourceforge.net/p/schemacrawler/discussion/495990/" title="Get Help" class="externalLink">Get Help</a></li>
									<li ><a href="apidocs/index.html" title="Javadocs">Javadocs</a></li>
									<li ><a href="http://github.com/sualeh/SchemaCrawler" title="Project Page on GitHub" class="externalLink">Project Page on GitHub</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<div id="bannerLeft"><h1>SchemaCrawler</h1></div>
					<p class="lead">Free database schema discovery and comprehension tool</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li class="projectVersion version-date">Version: 14.07.07</li>
				<li class="divider">|</li>
				<li class="publishDate version-date">Last Published: 2016-04-14</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="page-header">
 <h1>SchemaCrawler Lint</h1>
</div> 
<p>A lot of database schema designers do not follow good design practices, simply because these are not documented well. A lot of people know about normalization, and take care to either normalize their tables, or deliberately denormalize them for performance reasons. However, what about “design smells”, such as column names that are SQL reserved words, such as a column called <tt>COUNT</tt>? Or, foreign key and primary key columns that have different data types?</p> 
<p>SchemaCrawler can analyze and <a class="externalLink" href="http://en.wikipedia.org/wiki/Lint_(software)">lint</a> your database to find potential design flaws. SchemaCrawler Lint can be run using the <tt>-command=lint</tt> command-line option. A lint report will be produced in any specified format - either text, CSV, HTML5 or JSON.</p> 
<p>SchemaCrawler Lint is a separate jar, and contains both the framework for doing database schema lints, as well as some checks for common database schema design issues. You can extend this by creating your own jar that contains lint checks.</p> 
<p>For more details, see the lint example in the <a class="externalLink" href="http://github.com/sualeh/SchemaCrawler/releases/">SchemaCrawler examples</a> download.</p> 
<div class="section"> 
 <h2 id="SchemaCrawler_Lint_Reports">SchemaCrawler Lint Reports</h2> 
 <p>SchemaCrawler Lint can produce reports in [text](lint-report- examples/lint_report.txt) , <a href="lint-report-examples/lint_report.html">HTML5</a> or <a href="lint-report-examples/lint_report.json">JSON</a> format. (Click on the links for example reports.)</p> 
 <p>SchemaCrawler linters can be configured (both severity, and thresholds) using an <a href="schemacrawler-linter-configs.xml">XML configuration file.</a> You can run SchemaCrawler lint with an additional command-line option, for example, <tt>-linterconfigs=[path to linter XML configuration file]</tt>, pointing to the path of the SchemaCrawler linter XML configuration file. You can configure whether or not to run a linter, change a linter’s severity, or exclude certain tables and columns from the linter using the configuration file. You can also configure a threshold to fail a build if too many lints are found.</p> 
</div> 
<div class="section"> 
 <h2 id="Lint_Checks">Lint Checks</h2> 
 <p>SchemaCrawler Lint has a number of lint checks built-in. These are prioritized as critical, high, medium and low. The results are shown on the lint report. The checks are:</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterCatalogSql</i><br />Allows you to run SQL against the database. The SQL statement must return exactly one column and one row of data in the results. If one row is returned, it means that the lint has detected a problem. However, if no rows of data are returned, it means that there are no issues. Example configuration:</p> 
 <div class="source"> 
  <pre>&lt;linter id=&quot;schemacrawler.tools.linter.LinterCatalogSql&quot;&gt;
  &lt;config&gt;
    &lt;property name=&quot;message&quot;&gt;message for SQL catalog lint&lt;/property&gt;
    &lt;property name=&quot;sql&quot;&gt;&lt;![CDATA[SELECT TOP 1 1 FROM INFORMATION_SCHEMA.TABLES]]&gt;&lt;/property&gt;
  &lt;/config&gt;
&lt;/linter&gt;
</pre> 
 </div> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterColumnTypes</i><br />Looks for columns in different tables, that have the same name but have different data types.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterForeignKeyMismatch</i><br />Checks tables where the foreign key column data type is different from the referenced primary key column data type.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterForeignKeyWithNoIndexes</i><br />Checks for tables where foreign keys have no indexes. This may cause inefficient lookups.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterNullColumnsInIndex</i><br />Checks for tables that have nullable columns in a unique index.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterNullIntendedColumns</i><br />Checks for tables where the default value is ‘NULL’ instead of NULL, since this may indicate a error when creating a table.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterRedundantIndexes</i><br />Checks for tables with redundant indexes. A redundant index is one where the sequence of columns is the same as the first few columns of another index. For example, the index <tt>INDEX_B(COL1)</tt> is not needed when you have another index, <tt>INDEX_A(COL1, COL2)</tt>.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableAllNullableColumns</i><br />Tables that have all columns besides the primary key that are nullable, may contain no useful data, and could indicate a schema design smell.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableCycles</i><br />Checks for cyclical relationships between tables, which could cause issues with deletes and inserts.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableEmpty</i><br />Checks for empty tables with no data.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableSql</i><br />Allows you to run SQL against the database. The SQL statement must return exactly one column and one row of data in the results. If one row is returned, it means that the lint has detected a problem. However, if no rows of data are returned, it means that there are no issues. Notice the use of <tt>${table}</tt> to indicate the name of the table the lint is running against.<br />Example configuration:</p> 
 <div class="source"> 
  <pre>&lt;linter id=&quot;schemacrawler.tools.linter.LinterTableSql&quot;&gt;
  &lt;table-exclusion-pattern&gt;&lt;![CDATA[.*BOOKS]]&gt;&lt;/table-exclusion-pattern&gt;
  &lt;config&gt;
    &lt;property name=&quot;message&quot;&gt;message for custom SQL lint&lt;/property&gt;
    &lt;property name=&quot;sql&quot;&gt;&lt;![CDATA[SELECT TOP 1 1 FROM ${table}]]&gt;&lt;/property&gt;
  &lt;/config&gt;
&lt;/linter&gt;
</pre> 
 </div> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableWithBadlyNamedColumns</i><br />Checks for columns that should not be named according to certain patterns. For example, you may have a policy that no column can be named <tt>ID</tt>, because you want columns with complete names, such as <tt>ORDER_ID</tt>. If you want to detect columns named <tt>ID</tt>, you could use configuration as shown in the example below.<br />Example configuration:</p> 
 <div class="source"> 
  <pre>&lt;linter id=&quot;schemacrawler.tools.linter.LinterTableWithBadlyNamedColumns&quot;&gt;
  &lt;config&gt;
    &lt;property name=&quot;bad-column-names&quot;&gt;&lt;![CDATA[.*\.ID]]&gt;&lt;/property&gt;
  &lt;/config&gt;
&lt;/linter&gt;
</pre> 
 </div> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableWithIncrementingColumns</i><br />Checks for tables with incrementing column names, for example, a table with column names like <tt>CONTACT1</tt>, <tt>CONTACT2</tt> and so on can indicate de-normalization. Additionally, SchemaCrawler Lint will check that the data-types of all incrementing columns are the same, and that no numbers are skipped.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableWithNoIndexes</i><br />Checks for tables with no indexes.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableWithNoPrimaryKey</i><br />Checks for tables with no primary keys. Tables that purely model relationships, without any attributes are ignored.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableWithNoRemarks</i><br />Checks for tables and columns with no remarks.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableWithPrimaryKeyNotFirst</i><br />Checks for tables where the primary key columns are not first, since this is the convention.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableWithQuotedNames</i><br />Checks for tables that have spaces in table or column names, or names that are reserved words in the ANSI SQL standard.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTableWithSingleColumn</i><br />Checks for tables with no columns at all, or just a single column, since that could indicate a schema design smell.</p> 
 <p><b>Linter:</b> <i>schemacrawler.tools.linter.LinterTooManyLobs</i><br />Checks for tables that have too many large objects (CLOBs or BLOBs), since these could result in additional reads when returning query results. By default, this is more than one such column.<br />Example configuration:</p> 
 <div class="source"> 
  <pre>&lt;linter id=&quot;schemacrawler.tools.linter.LinterTooManyLobs&quot;&gt;
  &lt;config&gt;
    &lt;property name=&quot;max-large-objects&quot;&gt;3&lt;/property&gt;
  &lt;/config&gt;
&lt;/linter&gt;
</pre> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Enforcing_Good_Schema_Design_During_Builds">Enforcing Good Schema Design During Builds</h2> 
 <p>SchemaCrawler Lint can be configured to fail a build using a configuration file. You can call SchemaCrawler using a regularly constructed command-line, from Maven using the Exec Maven Plugin, or from ant using the java task, or from Gradle using JavaExec.</p> 
 <p>In the configuration file, you can set a dispatch threshold for linters. If the number of lints for that linter exceeds the threshold, the lint dispatch will take effect. To specify a dispatch method, provide an additional command-line argument, such as <tt>-lintdispatch=terminate_system</tt></p> 
 <p>Valid lint dispatch methods are </p> 
 <ul> 
  <li><tt>terminate_system</tt> - Return an error code of 1 to the system, by calling System.exit(1)</li> 
  <li><tt>throw_exception</tt> - Throw a runtime exception</li> 
  <li><tt>write_err</tt> - Write to stderr, and continue on</li> 
  <li><tt>none</tt> - No dispatch, and continue on normally</li> 
 </ul> 
 <p>Here is an example linter configuration, with a threshold defined, making it eligible for dispatch:</p> 
 <div class="source"> 
  <pre>&lt;linter id=&quot;schemacrawler.tools.linter.LinterTableWithNoIndexes&quot;&gt;
  &lt;severity&gt;critical&lt;/severity&gt;
  &lt;threshold&gt;1&lt;/threshold&gt;
&lt;/linter&gt;
</pre> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Lint_Extensions">Lint Extensions</h2> 
 <p>In addition, organizations may have their own design practices, for example that names of all tables relating to customers (that is, all tables with <tt>CUSTOMER_ID</tt> column) are prefixed with <tt>CUST_</tt>. SchemaCrawler allows you to write your own lint plugins to detect these. SchemaCrawler can be run in automated builds, and you can write tests that fail your build if a developer violates your rules.</p> 
 <p>SchemaCrawler Lint is <a href="plugins.html">very easily extended</a> for custom database schema checks. The main distribution has example code. In order to add your own lint checks,</p> 
 <ul> 
  <li>Create a class that extends <tt>schemacrawler.tools.lint.Linter</tt>. It is easiest to extend <tt>schemacrawler.tools.lint.BaseLinter</tt> , since you get convenient <tt>addLint</tt> methods</li> 
  <li>Package your code in a jar file, and make sure that the jar has a text file called <tt>META-INF\services\schemacrawler.tools.lint.Linter</tt> , which contains the classnames of your linter classes</li> 
  <li>Drop your jar file in the SchemaCrawler lib directory, and create a SchemaCrawler Lint report</li> 
 </ul> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span9 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">SchemaCrawler</li>
						<li >
							<a href="index.html" title="About SchemaCrawler">About SchemaCrawler</a>
						</li>
						<li >
							<a href="readme.html" title="Readme">Readme</a>
						</li>
						<li >
							<a href="who-uses.html" title="Who Uses">Who Uses</a>
						</li>
						<li >
							<a href="ecosystem.html" title="Ecosystem">Ecosystem</a>
						</li>
						<li >
							<a href="database-support.html" title="Database System Support">Database System Support</a>
						</li>
						<li >
							<a href="http://github.com/sualeh/SchemaCrawler/releases/" title="Download" class="externalLink">Download</a>
						</li>
						<li >
							<a href="changes-report.html" title="Change History">Change History</a>
						</li>
						<li >
							<a href="license.html" title="License">License</a>
						</li>
						<li >
							<a href="consulting.html" title="Consulting">Consulting</a>
						</li>
						<li class="nav-header">Features</li>
						<li >
							<a href="output.html" title="Text Output">Text Output</a>
						</li>
						<li >
							<a href="schemacrawler_grep.html" title="Grep">Grep</a>
						</li>
						<li >
							<a href="diagramming.html" title="Diagramming">Diagramming</a>
						</li>
						<li >
							<a href="scripting.html" title="Scripting">Scripting</a>
						</li>
						<li class="active">
							<a href="#" title="Lint">Lint</a>
						</li>
						<li >
							<a href="offline.html" title="Offline Snapshots">Offline Snapshots</a>
						</li>
						<li >
							<a href="plugins.html" title="Plugins">Plugins</a>
						</li>
						<li >
							<a href="INFORMATION_SCHEMA.html" title="Using INFORMATION_SCHEMA Views">Using INFORMATION_SCHEMA Views</a>
						</li>
						<li >
							<a href="report-maven-plugin.html" title="SchemaCrawler Report Maven Plugin">SchemaCrawler Report Maven Plugin</a>
						</li>
						<li class="nav-header">Resources</li>
						<li >
							<a href="readme.html" title="Getting Started">Getting Started</a>
						</li>
						<li >
							<a href="resources.html" title="Resources">Resources</a>
						</li>
						<li >
							<a href="faq.html" title="FAQS">FAQS</a>
						</li>
						<li >
							<a href="how-to.html" title="How-tos">How-tos</a>
						</li>
						<li >
							<a href="https://sourceforge.net/p/schemacrawler/discussion/495990/" title="Get Help" class="externalLink">Get Help</a>
						</li>
						<li >
							<a href="apidocs/index.html" title="Javadocs">Javadocs</a>
						</li>
						<li >
							<a href="http://github.com/sualeh/SchemaCrawler" title="Project Page on GitHub" class="externalLink">Project Page on GitHub</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2003-2016 Sualeh Fatehi. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.min.js"></script>
	<script src="./js/reflow-scroll.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>

	</body>
</html>
